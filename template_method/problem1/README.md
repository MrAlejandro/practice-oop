#Problems

1. A lot duplicate code.
2. The preparing algorithm, generally, is the same for two, but it separated, so modification will require changes in several places.
3. Adding new classes requires more additional work (and duplicated code).
